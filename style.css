/* ============================================================
   CSS VARIABLES
   ============================================================ */
:root {
    --bg-primary: #f5f6f7;
    --bg-secondary: #ffffff;
    --text-primary: #0f1113;
    --text-secondary: #555;
    --text-muted: #9aa0a6;
    --border-light: #e4e4e7;
    --border-medium: #d1d5db;
    --surface-elevated: #ffffff;
    --glass-bg: rgba(255,255,255,0.88);
    --primary-color: #1e1f20;
    --primary-hover: #131314;
    --danger-color: #e25252;
    --danger-hover: #dc2626;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --cancelled-color: #e25252;
    --modified-color: #6082b3;
    --ok-color: #7FBF9A;
    --radius-sm: 6px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.07);
    --shadow-lg: 0 8px 28px rgba(0,0,0,0.11);
    --transition-fast: 0.15s ease;
    --transition-normal: 0.25s ease;
}

body.dark-mode {
    --bg-primary: #131314;
    --bg-secondary: #1e1f20;
    --text-primary: #e3e3e3;
    --text-secondary: #9aa0a6;
    --text-muted: #6b7280;
    --border-light: #2c2c2e;
    --border-medium: #3a3a3c;
    --surface-elevated: #1e1f20;
    --glass-bg: rgba(19,19,20,0.9);
    --primary-color: #e3e3e3;
    --primary-hover: #ffffff;
    --danger-color: #eb685c;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
    --shadow-lg: 0 8px 28px rgba(0,0,0,0.55);
}

/* ============================================================
   RESET & BASE
   ============================================================ */
*, *::before, *::after { box-sizing: border-box; }
* { margin: 0; padding: 0; font: inherit; }

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, system-ui, sans-serif;
    line-height: 1.6;
    background: var(--bg-primary);
    color: var(--text-primary);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    transition: background-color var(--transition-normal), color var(--transition-normal);
}

.sr-only { position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0; }
.skip-link { position:absolute;top:-40px;left:6px;background:var(--primary-color);color:var(--bg-primary);padding:8px 12px;border-radius:var(--radius-sm);text-decoration:none;font-weight:600;z-index:10000;transition:top var(--transition-fast); }
.skip-link:focus { top:6px; }
.hidden { display:none !important; }

/* ============================================================
   HEADER
   ============================================================ */
.glass-header {
    position: sticky; top: 0; z-index: 200;
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 clamp(16px,5vw,32px); height: 64px;
    background: var(--glass-bg);
    backdrop-filter: blur(14px);
    border-bottom: 1px solid var(--border-light);
}
.logo { font-weight: 800; font-size: clamp(1.1rem,2vw,1.3rem); letter-spacing: -0.02em; }

nav { display: flex; gap: 4px; align-items: center; }
.nav-btn {
    background: none; border: none; padding: 7px 14px;
    cursor: pointer; font-size: 0.88rem; font-weight: 500;
    border-radius: var(--radius-md); color: var(--text-secondary);
    transition: all var(--transition-fast);
    display: flex; align-items: center; gap: 7px;
}
.nav-btn:hover, .nav-btn:focus-visible { background: var(--border-light); color: var(--text-primary); outline: none; }
.nav-btn.active { background: var(--border-light); color: var(--text-primary); font-weight: 600; }

/* Profile avatar in header */
.avatar-mini {
    width: 26px; height: 26px;
    border-radius: 50%;
    background: var(--primary-color);
    color: var(--bg-primary);
    font-size: 0.7rem; font-weight: 700;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
}

/* ============================================================
   MAIN LAYOUT
   ============================================================ */
main { flex:1; max-width: min(920px, 100% - 32px); margin: 32px auto 0; width: 100%; }
footer { text-align:center; padding:24px; font-size:0.82rem; color:var(--text-muted); border-top:1px solid var(--border-light); margin-top:48px; }
footer a { color: var(--text-muted); text-decoration: underline; }
footer a:hover { text-decoration: underline; }

/* ============================================================
   TYPOGRAPHY
   ============================================================ */
h1 { font-size:clamp(1.8rem,4vw,2.4rem); font-weight:800; line-height:1.2; margin-bottom:14px; letter-spacing:-0.02em; }
h2 { font-size:clamp(1.3rem,3vw,1.7rem); font-weight:700; margin-bottom:20px; letter-spacing:-0.01em; }
h3 { font-size:clamp(1rem,2vw,1.2rem); font-weight:650; margin-bottom:12px; }
p  { margin-bottom:14px; color:var(--text-secondary); line-height:1.65; }
a  { color:var(--primary-color); transition:opacity var(--transition-fast); }
a:hover { opacity:0.7; }

/* ============================================================
   PAGES
   ============================================================ */
.page { display:none; animation:fadeIn var(--transition-normal); }
.page.active { display:block; }
#signin.page.active { display:flex; }
#profile.page.active { display:block; }

@keyframes fadeIn {
    from { opacity:0; transform:translateY(8px); }
    to   { opacity:1; transform:translateY(0); }
}

/* ============================================================
   CARDS
   ============================================================ */
.card {
    background: var(--surface-elevated);
    padding: clamp(16px,4vw,24px);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border-light);
    margin-bottom: 16px;
}

/* ============================================================
   HOME
   ============================================================ */
.hero-section { text-align:center; margin-bottom:44px; }
.hero-description { font-size:1.05rem; color:var(--text-secondary); max-width:580px; margin:0 auto 20px; }
.status-strip { display:inline-block; padding:6px 18px; background:var(--bg-secondary); border:1px solid var(--border-light); border-radius:50px; font-size:0.88rem; box-shadow:var(--shadow-sm); }
.steps-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:20px; margin:32px 0; }
.step-card { position:relative; text-align:center; padding-top:36px; }
.step-number { position:absolute; top:-12px; left:50%; transform:translateX(-50%); width:30px; height:30px; background:var(--primary-color); color:var(--bg-primary); border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:800; font-size:0.85rem; }
.faq-section { margin-top:44px; }
.faq-item { border:1px solid var(--border-light); border-radius:var(--radius-sm); margin-bottom:8px; overflow:hidden; }
.faq-item summary { padding:14px 18px; cursor:pointer; font-weight:600; background:var(--bg-secondary); transition:background var(--transition-fast); font-size:0.95rem; }
.faq-item summary:hover { background:var(--border-light); }
.faq-item p { padding:14px 18px; margin:0; background:var(--bg-primary); border-top:1px solid var(--border-light); }

/* ============================================================
   FORMS
   ============================================================ */
fieldset { border:none; padding:0; margin-bottom:20px; }
legend { font-weight:700; font-size:0.95rem; margin-bottom:14px; color:var(--text-primary); }
.form-row { display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
.input-group { display:flex; flex-direction:column; gap:5px; margin-bottom:14px; }
label { font-size:0.82rem; font-weight:700; letter-spacing:0.03em; text-transform:uppercase; color:var(--text-secondary); }

input, select, textarea {
    padding:11px 14px;
    border:2px solid var(--border-light);
    border-radius:var(--radius-sm);
    font-size:0.95rem;
    background:var(--bg-secondary);
    color:var(--text-primary);
    transition:all var(--transition-fast);
    width:100%;
}
input:focus, select:focus, textarea:focus {
    outline:none;
    border-color:var(--primary-color);
    box-shadow:0 0 0 3px rgba(30,31,32,0.1);
}
body.dark-mode input:focus, body.dark-mode select:focus, body.dark-mode textarea:focus {
    box-shadow:0 0 0 3px rgba(227,227,227,0.1);
}
textarea { resize:none; overflow:hidden; min-height:72px; }
.error-message { font-size:0.8rem; color:var(--danger-color); font-weight:600; min-height:1.1em; }

/* Checkboxes */
.checkbox-group { display:flex; flex-wrap:wrap; gap:14px; margin-bottom:14px; }
.extras-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(130px,1fr)); gap:10px; }
.checkbox-label { display:flex; align-items:center; gap:8px; cursor:pointer; font-weight:500; font-size:0.9rem; text-transform:none; letter-spacing:0; color:var(--text-primary); }
.checkbox-label input[type="checkbox"] { margin:0; opacity:0; position:absolute; }
.checkmark { width:18px; height:18px; border:2px solid var(--border-medium); border-radius:4px; position:relative; transition:all var(--transition-fast); flex-shrink:0; }
.checkbox-label input:checked + .checkmark { background:var(--primary-color); border-color:var(--primary-color); }
.checkbox-label input:checked + .checkmark::after { content:''; position:absolute; left:5px; top:1px; width:4px; height:8px; border:solid var(--bg-primary); border-width:0 2px 2px 0; transform:rotate(45deg); }

/* Buttons */
.btn-primary, .btn-secondary, .btn-danger {
    padding:11px 22px; border-radius:var(--radius-sm); border:none;
    font-weight:600; cursor:pointer; font-size:0.95rem;
    transition:all var(--transition-fast);
    display:inline-flex; align-items:center; justify-content:center; gap:7px;
    text-decoration:none; min-height:42px;
}
.btn-primary  { background:var(--primary-color); color:var(--bg-primary); }
.btn-primary:hover  { background:var(--primary-hover); transform:translateY(-1px); box-shadow:var(--shadow-md); }
.btn-secondary{ background:var(--border-light); color:var(--text-primary); }
.btn-secondary:hover { background:var(--border-medium); }
.btn-danger   { background:var(--danger-color); color:#fff; }
.btn-danger:hover   { background:var(--danger-hover); }
.full-width   { width:100%; }
.form-actions { display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
.btn-back { background:none; border:none; cursor:pointer; color:var(--text-secondary); font-size:0.88rem; font-weight:600; padding:0; margin-bottom:20px; display:inline-flex; align-items:center; gap:4px; transition:color var(--transition-fast); }
.btn-back:hover { color:var(--text-primary); }

/* Banner */
.banner { padding:14px 18px; border-radius:var(--radius-md); margin-bottom:20px; font-weight:600; display:flex; align-items:center; gap:10px; }
.banner.error { background:var(--danger-color); color:#fff; }

/* ============================================================
   ORDER PAGE — MENU ITEMS
   ============================================================ */
.menu-section { margin-bottom:16px; }
.menu-section-header {
    display:flex; align-items:center; gap:10px;
    margin-bottom:14px; padding-bottom:12px;
    border-bottom:2px solid var(--border-light);
}
.menu-section-header h3 { margin:0; font-size:1rem; }
.menu-section-header svg { color:var(--text-muted); flex-shrink:0; }
.cat-limit-note { margin-left:auto; font-size:0.72rem; color:var(--text-muted); font-weight:500; background:var(--border-light); padding:2px 8px; border-radius:50px; white-space:nowrap; }

.menu-item-row {
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    padding:14px 0; border-bottom:1px solid var(--border-light);
    transition:background var(--transition-fast);
}
.menu-item-row:last-child { border-bottom:none; }
.menu-item-row:hover { background:var(--bg-primary); margin:0 -16px; padding:14px 16px; border-radius:var(--radius-sm); }

.menu-item-info { flex:1; min-width:0; }
.menu-item-name { font-weight:650; font-size:0.97rem; color:var(--text-primary); }
.menu-item-tags { display:flex; flex-wrap:wrap; gap:4px; margin-top:4px; }
.menu-item-right { display:flex; align-items:center; gap:14px; flex-shrink:0; }
.menu-item-price { font-size:1rem; font-weight:800; color:var(--text-primary); min-width:48px; text-align:right; }
.menu-limit { font-size:0.72rem; color:var(--warning-color); font-weight:600; }

.menu-tag {
    display:inline-block; font-size:0.7rem; font-weight:700;
    padding:2px 7px; border-radius:50px;
    background:var(--border-light); color:var(--text-secondary);
    letter-spacing:0.02em; text-transform:uppercase;
}
.menu-tag-veg       { background:#e8f5e9; color:#6FC2A6; }
.menu-tag-vegan     { background:#f1f8e9; color:#8FCB81; }
.menu-tag-halal     { background:#e3f2fd; color:#5FAF8E; }
.menu-tag-glutenfree{ background:#fffde7; color:#E6B86A; }
.menu-tag-spicy     { background:#fce4ec; color:#D96B6B; }
body.dark-mode .menu-tag-veg    { background:#3F7A3E; color:#a5d6a7; }
body.dark-mode .menu-tag-vegan  { background:#2F6F5E; color:#c5e1a5; }
body.dark-mode .menu-tag-halal  { background:#2C5E4C; color:#90caf9; }
body.dark-mode .menu-tag-glutenfree { background:#8A6428; color:#ffe0b2; }
body.dark-mode .menu-tag-spicy  { background:#7A2E2E; color:#ffcdd2; }

/* Quantity stepper */
.qty-stepper {
    display:flex; align-items:center;
    border:2px solid var(--border-medium);
    border-radius:50px; overflow:hidden;
    transition:border-color var(--transition-fast), box-shadow var(--transition-fast);
}
.qty-stepper.has-qty { border-color:var(--primary-color); box-shadow:0 0 0 2px rgba(30,31,32,0.08); }
body.dark-mode .qty-stepper.has-qty { box-shadow:0 0 0 2px rgba(227,227,227,0.1); }

.qty-btn {
    width:32px; height:32px; border:none; background:none;
    color:var(--text-secondary); cursor:pointer; font-size:1.1rem; font-weight:800;
    display:flex; align-items:center; justify-content:center;
    transition:background var(--transition-fast), color var(--transition-fast);
    user-select:none; line-height:1;
}
.qty-btn:hover { background:var(--border-light); color:var(--text-primary); }
.qty-display { min-width:26px; text-align:center; font-size:0.9rem; font-weight:700; user-select:none; }

/* Cart bar */
.cart-bar {
    position:sticky; bottom:16px;
    background:var(--primary-color); color:var(--bg-primary);
    border-radius:var(--radius-lg);
    padding:14px 20px;
    display:flex; align-items:center; justify-content:space-between; gap:14px;
    box-shadow:var(--shadow-lg);
    opacity:0; transform:translateY(20px); pointer-events:none;
    transition:opacity 0.3s ease, transform 0.3s ease;
    margin-top:20px; flex-wrap:wrap;
}
.cart-bar.active { opacity:1; transform:translateY(0); pointer-events:all; }
.cart-bar-info { display:flex; align-items:center; gap:14px; }
#cart-count-badge { font-weight:600; font-size:0.9rem; }
.cart-bar-total { font-size:1.1rem; font-weight:800; }
.cart-bar .btn-primary { background:var(--bg-primary); color:var(--text-primary); padding:9px 18px; font-size:0.9rem; }
.cart-bar .btn-primary:hover { background:var(--border-light); transform:none; }
.cart-bar .btn-danger { background:rgba(255,255,255,0.15); color:var(--bg-primary); border:1px solid rgba(255,255,255,0.25); padding:9px 14px; font-size:0.88rem; }

/* Extras */
.section-extras legend { font-size:0.88rem; }

/* ============================================================
   EMAIL CONFIRM MODAL
   ============================================================ */
.modal-overlay {
    position:fixed; inset:0;
    background:rgba(0,0,0,0.45);
    backdrop-filter:blur(4px);
    z-index:800;
    display:flex; align-items:center; justify-content:center;
    padding:20px;
    animation:fadeIn var(--transition-normal);
}
.modal-box {
    background:var(--surface-elevated);
    border:1px solid var(--border-light);
    border-radius:var(--radius-lg);
    box-shadow:var(--shadow-lg);
    padding:clamp(24px,5vw,40px);
    max-width:420px; width:100%;
    text-align:center;
}
.modal-icon {
    width:60px; height:60px;
    background:var(--bg-primary);
    border:2px solid var(--border-light);
    border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    margin:0 auto 18px;
    color:var(--text-secondary);
}
.modal-box h3 { margin-bottom:8px; }
.modal-box p { font-size:0.92rem; }
.confirm-email-display {
    background:var(--bg-primary);
    border:1px solid var(--border-light);
    border-radius:var(--radius-sm);
    padding:10px 16px;
    font-family:monospace; font-size:0.9rem;
    color:var(--text-primary); font-weight:600;
    margin:10px 0 14px;
}
.modal-note { font-size:0.82rem; color:var(--text-muted); margin-bottom:20px; }
.modal-actions { display:flex; flex-direction:column; gap:8px; }

/* ============================================================
   PAYMENT PAGE
   ============================================================ */
.payment-layout { display:grid; grid-template-columns:1fr 320px; gap:22px; align-items:start; }
@media (max-width:768px) { .payment-layout { grid-template-columns:1fr; } }

.payment-method-card h3 { margin-bottom:14px; }
.payment-methods { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-bottom:18px; }
@media (max-width:480px) { .payment-methods { grid-template-columns:1fr; } }

.payment-option { border:2px solid var(--border-light); border-radius:var(--radius-md); cursor:pointer; transition:all var(--transition-fast); }
.payment-option input { display:none; }
.payment-option-inner { display:flex; flex-direction:column; align-items:center; gap:7px; padding:13px 8px; font-size:0.83rem; font-weight:600; color:var(--text-secondary); }
.payment-option:hover { border-color:var(--border-medium); }
.payment-option.active { border-color:var(--primary-color); background:var(--bg-primary); }
.payment-option.active .payment-option-inner { color:var(--text-primary); }

.card-fields { margin-top:4px; }
.secure-note { font-size:0.78rem; color:var(--text-muted); display:flex; align-items:center; gap:5px; margin-bottom:0; margin-top:6px; }

.recap-card h3 { margin-bottom:14px; }
.recap-item-row { display:flex; justify-content:space-between; align-items:center; padding:5px 0; font-size:0.88rem; color:var(--text-secondary); border-bottom:1px dashed var(--border-light); }
.recap-item-row:last-of-type { border-bottom:none; }
.recap-divider { border:none; border-top:2px solid var(--border-light); margin:10px 0; }
.recap-row { display:flex; justify-content:space-between; font-size:0.88rem; padding:3px 0; color:var(--text-secondary); }
.recap-total { font-weight:800; font-size:1rem; color:var(--text-primary); margin-top:4px; }

.success-card { max-width:460px; margin:36px auto; text-align:center; padding:clamp(24px,5vw,44px); background:var(--surface-elevated); border-radius:var(--radius-lg); border:1px solid var(--border-light); box-shadow:var(--shadow-md); }
.success-icon { width:68px; height:68px; background:#e8f5e9; color:#2e7d32; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 18px; }
body.dark-mode .success-icon { background:#1b5e20; color:#a5d6a7; }
.success-ref { background:var(--bg-primary); border:1px solid var(--border-light); border-radius:var(--radius-sm); padding:9px 14px; font-family:monospace; font-size:0.85rem; color:var(--text-muted); margin-bottom:20px; }

/* ============================================================
   SETTINGS FAB & POPOVER
   ============================================================ */
.settings-container { position:fixed; bottom:24px; right:24px; z-index:500; display:flex; flex-direction:column; align-items:flex-end; gap:10px; }
.settings-fab {
    width:50px; height:50px; border-radius:50%;
    background:var(--primary-color); color:var(--bg-primary);
    border:none; cursor:pointer;
    display:flex; align-items:center; justify-content:center;
    box-shadow:var(--shadow-lg);
    transition:transform var(--transition-fast);
    flex-shrink:0;
}
.settings-fab:hover { transform:rotate(28deg) scale(1.07); }

.settings-popover {
    background:var(--surface-elevated);
    border:1px solid var(--border-light);
    border-radius:var(--radius-lg);
    box-shadow:var(--shadow-lg);
    width:220px; overflow:visible;
    opacity:0; transform:translateY(8px) scale(0.97);
    pointer-events:none;
    transition:opacity var(--transition-fast), transform var(--transition-fast);
}
.settings-popover.show { opacity:1; transform:translateY(0) scale(1); pointer-events:all; }

.popover-header { padding:11px 14px 7px; font-size:0.7rem; font-weight:800; letter-spacing:0.08em; text-transform:uppercase; color:var(--text-muted); border-bottom:1px solid var(--border-light); }

.settings-list { list-style:none; padding:5px 0; }
.settings-list > li {
    padding:9px 14px; font-size:0.88rem; font-weight:500;
    color:var(--text-primary); cursor:pointer;
    display:flex; align-items:center; gap:8px;
    position:relative; transition:background var(--transition-fast);
}
.settings-list > li:hover { background:var(--border-light); }
.setting-btn { cursor:pointer; }

.darkmode-row { display:flex; align-items:center; justify-content:space-between; cursor:default !important; }
.darkmode-row:hover { background:transparent !important; }
.darkmode-row > span { flex:1; }

/* Submenus */
.has-submenu { position:relative; justify-content:space-between; }
.has-submenu > span { flex:1; }
.sous-menu {
    display:none; position:absolute; right:calc(100% + 5px); top:0;
    background:var(--surface-elevated); border:1px solid var(--border-light);
    border-radius:var(--radius-md); box-shadow:var(--shadow-lg);
    min-width:155px; list-style:none; padding:5px 0; z-index:600;
}
.has-submenu:hover > .sous-menu,
.has-submenu:focus-within > .sous-menu { display:block; }
.sous-menu li { padding:8px 14px; font-size:0.85rem; font-weight:500; color:var(--text-primary); cursor:pointer; transition:background var(--transition-fast); }
.sous-menu li:hover { background:var(--border-light); }
.sous-menu li.active-lang { font-weight:700; }

/* Apple Switch */
.apple-switch { position:relative; display:inline-block; width:46px; height:26px; cursor:pointer; flex-shrink:0; }
.apple-switch input { opacity:0; width:0; height:0; position:absolute; }
.apple-switch .slider { position:absolute; inset:0; background:#ccc; border-radius:26px; transition:background 0.25s ease; }
.apple-switch .slider::before { content:''; position:absolute; height:20px; width:20px; left:3px; bottom:3px; background:#fff; border-radius:50%; transition:transform 0.25s ease; box-shadow:0 1px 4px rgba(0,0,0,0.25); }
.apple-switch input:checked + .slider { background:#34c759; }
.apple-switch input:checked + .slider::before { transform:translateX(20px); }
body.dark-mode .apple-switch .slider { background:#3a3a3c; }

/* ============================================================
   SIGN IN — Discord style
   ============================================================ */
.signin-bg { flex:1; display:flex; align-items:center; justify-content:center; min-height:calc(100vh - 64px - 60px); padding:clamp(16px,4vw,40px) 16px; }
.auth-card { background:var(--surface-elevated); border:1px solid var(--border-light); border-radius:var(--radius-lg); box-shadow:0 8px 36px rgba(0,0,0,0.09); padding:clamp(24px,5vw,40px); width:100%; max-width:410px; text-align:center; }
.auth-logo { width:62px; height:62px; background:var(--primary-color); color:var(--bg-primary); border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 18px; }
.auth-card h2 { font-size:1.55rem; margin-bottom:5px; }
.auth-subtitle { font-size:0.9rem; color:var(--text-muted); margin-bottom:22px; }
.auth-card .input-group { text-align:left; }
.label-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:5px; }
.label-row label { margin:0; text-transform:uppercase; font-size:0.75rem; }
.forgot-link { background:none; border:none; cursor:pointer; font-size:0.78rem; color:#5865f2; font-weight:600; padding:0; }
.forgot-link:hover { text-decoration:underline; }
.password-field-wrapper { position:relative; }
.password-field-wrapper input { padding-right:42px; }
.toggle-password { position:absolute; right:10px; top:50%; transform:translateY(-50%); background:none; border:none; cursor:pointer; color:var(--text-muted); display:flex; align-items:center; padding:4px; }
.toggle-password:hover { color:var(--text-primary); }
.remember-row { text-align:left; margin-bottom:14px; }
.auth-link { font-size:0.85rem; color:var(--text-muted); text-align:center; margin-bottom:0; }
.auth-link a { color:#5865f2; font-weight:600; text-decoration:none; }
.auth-link a:hover { text-decoration:underline; }
.auth-footer-links { margin-top:20px; padding-top:14px; border-top:1px solid var(--border-light); display:flex; gap:10px; justify-content:center; font-size:0.75rem; color:var(--text-muted); }
.auth-footer-links a { color:var(--text-muted); text-decoration:none; font-size:0.75rem; }
.auth-footer-links a:hover { text-decoration:underline; }
.auth-footer-links span { opacity:0.4; }

/* ============================================================
   PROFILE PAGE
   ============================================================ */
.profile-layout {
    display:grid;
    grid-template-columns:220px 1fr;
    gap:24px;
    align-items:start;
    padding-bottom:48px;
}
@media (max-width:700px) { .profile-layout { grid-template-columns:1fr; } }

/* Sidebar */
.profile-sidebar {
    background:var(--surface-elevated);
    border:1px solid var(--border-light);
    border-radius:var(--radius-lg);
    padding:24px 16px;
    text-align:center;
    box-shadow:var(--shadow-sm);
    position:sticky;
    top:80px;
}
.profile-avatar-large {
    width:72px; height:72px;
    background:var(--primary-color); color:var(--bg-primary);
    border-radius:50%; font-size:1.5rem; font-weight:800;
    display:flex; align-items:center; justify-content:center;
    margin:0 auto 12px;
}
.profile-name-display { font-weight:700; font-size:1rem; margin-bottom:3px; }
.profile-email-display { font-size:0.78rem; color:var(--text-muted); margin-bottom:20px; word-break:break-all; }

.profile-nav { display:flex; flex-direction:column; gap:2px; text-align:left; }
.profile-nav-btn {
    background:none; border:none; cursor:pointer;
    padding:9px 12px; border-radius:var(--radius-sm);
    display:flex; align-items:center; gap:9px;
    font-size:0.88rem; font-weight:500; color:var(--text-secondary);
    transition:all var(--transition-fast); width:100%;
}
.profile-nav-btn:hover { background:var(--border-light); color:var(--text-primary); }
.profile-nav-btn.active { background:var(--border-light); color:var(--text-primary); font-weight:700; }
.profile-logout-btn { color:var(--danger-color) !important; margin-top:12px; border-top:1px solid var(--border-light); padding-top:14px; }
.profile-logout-btn:hover { background:#fee2e2 !important; }
body.dark-mode .profile-logout-btn:hover { background:#450a0a !important; }

/* Profile sections */
.profile-section { display:none; }
.profile-section.active { display:block; }
.profile-section h2 { margin-bottom:20px; }

/* Order history */
.section-note { font-size:0.82rem; color:var(--text-muted); margin-bottom:16px; }
.order-history-card { margin-bottom:10px; padding:14px 16px; }
.order-history-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:6px; flex-wrap:wrap; gap:8px; }
.order-history-ref { font-family:monospace; font-size:0.85rem; display:block; }
.order-history-date { font-size:0.75rem; color:var(--text-muted); }
.order-history-total { font-weight:700; font-size:0.95rem; }
.order-history-items { font-size:0.88rem; color:var(--text-secondary); }
.order-history-extras { font-size:0.8rem; color:var(--text-muted); margin-top:3px; }

/* Settings rows */
.settings-group { margin-bottom:16px; }
.settings-group h3 { margin-bottom:14px; font-size:1rem; border-bottom:1px solid var(--border-light); padding-bottom:10px; }
.settings-row {
    display:flex; align-items:center; justify-content:space-between;
    gap:14px; padding:12px 0;
    border-bottom:1px solid var(--border-light);
}
.settings-row:last-child { border-bottom:none; }
.settings-row-label { font-weight:600; font-size:0.9rem; color:var(--text-primary); margin-bottom:2px; }
.settings-row-desc { font-size:0.78rem; color:var(--text-muted); line-height:1.4; }
.settings-row-btn { align-items:flex-start; padding-top:14px; }
.settings-select {
    padding:6px 10px; border:2px solid var(--border-light);
    border-radius:var(--radius-sm); font-size:0.85rem;
    background:var(--bg-secondary); color:var(--text-primary);
    cursor:pointer; min-width:100px;
}

/* ============================================================
   CONTACT
   ============================================================ */
#contact h2 { margin-bottom:20px; }

/* ============================================================
   ADMIN DASHBOARD
   ============================================================ */
.admin-header { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:14px; margin-bottom:20px; }
.admin-header h2 { margin:0; }

.admin-tabs { display:flex; gap:3px; background:var(--bg-primary); border:1px solid var(--border-light); border-radius:var(--radius-md); padding:3px; }
.admin-tab {
    background:none; border:none; padding:7px 14px;
    border-radius:var(--radius-sm); cursor:pointer; font-size:0.85rem; font-weight:500;
    color:var(--text-secondary); display:flex; align-items:center; gap:6px;
    transition:all var(--transition-fast);
}
.admin-tab:hover { color:var(--text-primary); }
.admin-tab.active { background:var(--surface-elevated); color:var(--text-primary); font-weight:700; box-shadow:var(--shadow-sm); }

.admin-tab-content { display:none; }
.admin-tab-content.active { display:block; }

.admin-toolbar { display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:14px; }
.admin-search-input { flex:1; min-width:180px; padding:9px 14px; border:2px solid var(--border-light); border-radius:var(--radius-sm); font-size:0.9rem; background:var(--bg-secondary); color:var(--text-primary); }
.admin-toolbar-right { display:flex; gap:8px; align-items:center; margin-left:auto; }
.admin-toolbar-right select { padding:9px 12px; border:2px solid var(--border-light); border-radius:var(--radius-sm); font-size:0.85rem; background:var(--bg-secondary); color:var(--text-primary); }

.admin-stats-strip { display:flex; gap:7px; flex-wrap:wrap; margin-bottom:14px; }
.stat-pill { padding:5px 12px; border-radius:50px; font-size:0.78rem; font-weight:700; background:var(--border-light); color:var(--text-secondary); }
.stat-pill.stat-green { background:#e8f5e9; color:var(--ok-color); }
.stat-pill.stat-orange { background:#e7f1ff; color:var(--modified-color); }
body.dark-mode .stat-pill.stat-green { background:var(--ok-color); color:#cff7d0; }
body.dark-mode .stat-pill.stat-orange { background:var(--modified-color); color:#cdd4ff; }

.table-wrapper { overflow-x:auto; border-radius:var(--radius-md); border:1px solid var(--border-light); }
.admin-table { width:100%; border-collapse:collapse; font-size:0.85rem; }
.admin-table th { background:var(--bg-primary); padding:11px 12px; text-align:left; font-weight:700; font-size:0.72rem; letter-spacing:0.05em; text-transform:uppercase; color:var(--text-muted); border-bottom:2px solid var(--border-light); white-space:nowrap; }
.admin-table td { padding:11px 12px; border-bottom:1px solid var(--border-light); vertical-align:middle; color:var(--text-secondary); }
.admin-table tr:last-child td { border-bottom:none; }
.admin-table tbody tr:hover { background:var(--bg-primary); }
.table-footer-row td { font-size:0.88rem; padding:12px; border-top:2px solid var(--border-light); background:var(--bg-primary); }

.cell-user strong { display:block; color:var(--text-primary); }
.ref-label { font-size:0.7rem; color:var(--text-muted); font-family:monospace; }
.cell-dish { max-width:150px; }

.status-badge { display:inline-block; padding:2px 9px; border-radius:50px; font-size:0.72rem; font-weight:700; text-transform:uppercase; letter-spacing:0.04em; }
.status-ok         { background:#e8f5e9; color:var(--ok-color); }
.status-modified   { background:#e7f1ff; color:var(--modified-color); }
.status-cancelled  { background:#fce4ec; color:var(--cancelled-color); }
body.dark-mode .status-ok        { background:var(--ok-color); color:#cff7d0; }
body.dark-mode .status-modified  { background:var(--modified-color); color:#cdd4ff; }
body.dark-mode .status-cancelled { background:var(--cancelled-color); color:#f8ced3; }

.btn-icon { width:28px; height:28px; background:none; border:none; cursor:pointer; border-radius:var(--radius-sm); display:inline-flex; align-items:center; justify-content:center; color:var(--text-secondary); transition:background var(--transition-fast), color var(--transition-fast); }
.btn-icon:hover { background:var(--border-light); color:var(--text-primary); }
.btn-icon-danger:hover { background:#fce4ec; color:#c62828; }
body.dark-mode .btn-icon-danger:hover { background:#b71c1c; color:#ffcdd2; }
.cell-actions { white-space:nowrap; }
.table-empty { text-align:center; color:var(--text-muted); padding:24px; }

/* ============================================================
   ADMIN MENU MANAGEMENT
   ============================================================ */
.menu-admin-layout { display:grid; grid-template-columns:400px 1fr; gap:22px; align-items:start; }
@media (max-width:900px) { .menu-admin-layout { grid-template-columns:1fr; } }

.menu-form-card h3 { margin-bottom:18px; }
.tag-group { margin-bottom:14px; }
.tag-label { display:block; font-size:0.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.04em; color:var(--text-secondary); margin-bottom:8px; }
.tag-options { display:flex; flex-wrap:wrap; gap:6px; }
.tag-checkbox { display:flex; align-items:center; gap:5px; font-size:0.83rem; font-weight:500; cursor:pointer; padding:4px 10px; border:1px solid var(--border-light); border-radius:50px; transition:all var(--transition-fast); user-select:none; text-transform:none; letter-spacing:0; color:var(--text-secondary); }
.tag-checkbox:hover { border-color:var(--border-medium); background:var(--border-light); color:var(--text-primary); }
.tag-checkbox input { display:none; }
.tag-checkbox:has(input:checked) { background:var(--primary-color); color:var(--bg-primary); border-color:var(--primary-color); }

.menu-list-panel h3 { margin-bottom:14px; }
.admin-menu-group { margin-bottom:18px; }
.admin-menu-group-title { font-size:0.72rem; font-weight:800; letter-spacing:0.06em; text-transform:uppercase; color:var(--text-muted); padding:6px 0; border-bottom:2px solid var(--border-light); margin-bottom:3px; }
.admin-menu-row { display:flex; align-items:center; gap:10px; padding:9px 10px; border-radius:var(--radius-sm); transition:background var(--transition-fast); }
.admin-menu-row:hover { background:var(--bg-primary); }
.menu-hidden-row { opacity:0.4; }
.admin-menu-info { flex:1; min-width:0; }
.admin-menu-name { font-weight:650; font-size:0.88rem; color:var(--text-primary); }
.admin-menu-meta { display:flex; flex-wrap:wrap; gap:3px; margin-top:2px; }
.admin-menu-price { font-weight:800; font-size:0.9rem; color:var(--text-primary); white-space:nowrap; }
.admin-menu-actions { display:flex; gap:3px; flex-shrink:0; }
.mini-tag { display:inline-block; font-size:0.68rem; padding:1px 6px; border-radius:50px; background:var(--border-light); color:var(--text-muted); font-weight:600; text-transform:uppercase; letter-spacing:0.03em; }
.mini-tag-limit { background:#fff8e1; color:#e65100; }
body.dark-mode .mini-tag-limit { background:#bf360c; color:#ffccbc; }

/* ============================================================
   LEGAL PAGES
   ============================================================ */
.legal-page { max-width:700px; margin:0 auto; padding-bottom:48px; }
.legal-page h1 { margin-bottom:4px; }
.legal-date { font-size:0.82rem; color:var(--text-muted); margin-bottom:28px; }
.legal-page .card { margin-bottom:10px; }
.legal-page .card h3 { font-size:0.95rem; margin-bottom:7px; }
.legal-page .card p { margin-bottom:0; font-size:0.9rem; }

/* ============================================================
   TOAST SYSTEM
   ============================================================ */
#toast-container {
    position:fixed; bottom:24px; left:50%; transform:translateX(-50%);
    display:flex; flex-direction:column; align-items:center; gap:7px;
    z-index:9999; pointer-events:none;
    width:max-content; max-width:calc(100vw - 32px);
}
.toast {
    background:var(--primary-color); color:var(--bg-primary);
    padding:11px 22px; border-radius:50px;
    box-shadow:var(--shadow-lg); font-weight:600; font-size:0.9rem;
    pointer-events:all; cursor:pointer; white-space:nowrap;
    opacity:0; transform:translateY(16px) scale(0.96);
    transition:opacity 0.22s ease, transform 0.22s ease;
}
.toast.toast-visible  { opacity:1; transform:translateY(0) scale(1); }
.toast.toast-exit     { opacity:0; transform:translateY(8px) scale(0.93); transition:opacity 0.18s ease, transform 0.18s ease; }

/* ============================================================
   FOCUS & ACCESSIBILITY
   ============================================================ */
*:focus-visible { outline:2px solid var(--primary-color); outline-offset:2px; }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width:768px) {
    .glass-header { padding:0 14px; }
    .nav-btn span { display:none; }
    .nav-btn { padding:7px 10px; }
    .settings-container { bottom:14px; right:14px; }
    .sous-menu { right:auto; left:calc(100% + 5px); }
    .form-actions { justify-content:stretch; }
    .form-actions button { flex:1; }
    .steps-grid { grid-template-columns:1fr; gap:14px; }
    .profile-sidebar { position:static; }
}
@media (max-width:480px) { html { font-size:14px; } }
@media (prefers-reduced-motion:reduce) { *, *::before, *::after { animation-duration:.01ms !important; transition-duration:.01ms !important; } }

@media print {
    .glass-header, .settings-container, .btn-primary, .btn-secondary, .btn-danger { display:none !important; }
    .page { display:block !important; }
    * { background:#fff !important; color:#000 !important; box-shadow:none !important; }
}
